{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vava\\\\Desktop\\\\covid-19-dashboard\\\\pages\\\\_app.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\nimport axios from 'axios';\nimport { ResponsiveContainer, XAxis, YAxis, CartesianGrid, Tooltip, Legend, LineChart, Line, BarChart, Bar, PieChart, Pie, Cell } from 'recharts';\n\nconst styles = theme => ({\n  appBarSpacer: theme.mixins.toolbar,\n  title: {\n    flexGrow: 1\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"#FFFEFE\"\n  },\n  paperFoot: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"#777070\"\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(2)\n  },\n  root: {\n    backgroundColor: \"#000000\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n});\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\"\n  }\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectCountry: 'Thailand',\n      selectCity: 'Overall',\n      countries: [],\n      globalData: [],\n      fastMode: true,\n      hasTimeline: true,\n      dataTimeline: [],\n      dataTimeline15: [],\n      data_text: {\n        updatedDate: '',\n        confirmed: '',\n        hospitalized: '',\n        deaths: '',\n        recovered: '',\n        newConfirmed: '',\n        newHospitalized: '',\n        newDeaths: '',\n        newRecovered: ''\n      },\n      data_pie: [{}],\n      lastConfirmed: 0,\n      lastDeath: 0,\n      noConfirmedStreak: 0,\n      noDeathStreak: 0,\n      rateRecovery: 0,\n      rateDeath: 0,\n      showGraph: false\n    };\n    this.referenceDate = new Date(2020, 7, 20);\n    const CancelToken = axios.CancelToken;\n    this.cancelSource = CancelToken.source();\n  }\n\n  componentDidMount() {\n    this.callAPIGlobalAll(this.referenceDate);\n    this.fetchData(this.referenceDate);\n  }\n\n  fetchData(refDate) {\n    if (this.state.selectCountry == 'Thailand') this.callAPIThailand();else if (this.state.fastMode) this.callAPIGlobal(this.state.selectCity, this.state.selectCountry, new Date(refDate.getTime()));else this.callAPIGlobalTimeline(this.state.selectCity, this.state.selectCountry);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectCountry != this.state.selectCountry || prevState.selectCity != this.state.selectCity || prevState.fastMode != this.state.fastMode) {\n      this.clearAxiosCalls();\n      this.fetchData(this.referenceDate);\n    }\n  }\n\n  clearAxiosCalls() {\n    this.cancelSource.cancel('Axios operations cleared');\n    const CancelToken = axios.CancelToken;\n    this.cancelSource = CancelToken.source();\n  } //For ranking and map functionalities\n  //Only data from one day/file is processed\n\n\n  async callAPIGlobalAll(markDate) {\n    markDate = new Date(markDate.getTime());\n    let countries = [];\n    let countriesN = 0;\n    let data = new Object();\n    const sourceRef = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports';\n    const sourcePrefix = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/';\n    const formatChange = new Date(2020, 2, 22).getTime();\n    let cityIndex = 0;\n    let countryIndex = 1;\n    let conIndex = 3;\n    let deathIndex = 4;\n    let recIndex = 5;\n    let quoteLimit = 0; //Workaround for source's formatting inconsistencies\n\n    if (cityIndex == 0 && markDate.getTime() >= formatChange) {\n      cityIndex = 2;\n      countryIndex = 3;\n      conIndex = 7;\n      deathIndex = 8;\n      recIndex = 9;\n      quoteLimit = 2;\n    }\n\n    let lines = '';\n    const markDateStr = markDate.toISOString();\n    const sourceDate = markDateStr.slice(5, 8) + markDateStr.slice(8, 10) + '-' + markDate.getFullYear(); //console.log(sourceDate);\n\n    try {\n      const cancelToken = this.cancelSource.token;\n      const response = await axios.get(sourcePrefix + sourceDate + '.csv', {\n        headers: {\n          'Content-Type': 'text/csv'\n        },\n        cancelToken: cancelToken\n      });\n      lines = response.data.split(/\\r?\\n/);\n    } catch (err) {\n      console.log(err);\n      return undefined;\n    }\n\n    if (lines != '') {\n      for (let i = 1; i < lines.length; i++) {\n        if (lines[i] == '' || (lines[i].match(/\"/g) || []).length > quoteLimit) continue;\n        const values = lines[i].split(',');\n        const country = values[countryIndex];\n        const city = values[cityIndex];\n        let confirmed = parseInt(values[conIndex]);\n        let hospitalized = parseInt(values[10]);\n        let deaths = parseInt(values[deathIndex]);\n        let recovered = parseInt(values[recIndex]);\n\n        if (data[country] != undefined) {\n          confirmed += data[country][\"Confirmed\"];\n          hospitalized += data[country][\"Hospitalized\"];\n          deaths += data[country][\"Deaths\"];\n          recovered += data[country][\"Recovered\"];\n        } else {\n          data[country] = new Object();\n          data[country].Cities = [];\n          data[country].CitiesN = 0;\n          countries[countriesN] = country;\n          countriesN++;\n        }\n\n        const citiesN = data[country].CitiesN;\n        data[country].Confirmed = confirmed;\n        data[country].Hospitalized = hospitalized;\n        data[country].Deaths = deaths;\n        data[country].Recovered = recovered;\n        data[country].RecoveryRate = recovered / confirmed * 100;\n        data[country].MortalityRate = deaths / confirmed * 100;\n\n        if (city != '') {\n          data[country].Cities[citiesN] = city;\n          data[country].CitiesN = citiesN + 1;\n        }\n      } //console.log(data);\n\n\n      this.setState({\n        countries: countries,\n        globalData: data\n      }); //console.log(this.state.countries);\n    }\n  } //When foreign country is selected\n  //Provides retrospective data and graph functionalities\n  //Taxing, over 200 days/files must be processed\n  //Somehow sometimes fast, sometimes slow. Cause still unknown.\n\n\n  async callAPIGlobalTimeline(city, country) {\n    if (city == 'Overall') {\n      city = '';\n    }\n\n    let data = [{}];\n    let dataN = 0;\n    let prevConfirmed = 0;\n    let prevHospitalized = 0;\n    let prevDeaths = 0;\n    let prevRecovered = 0;\n    const sourceRef = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports';\n    const sourcePrefix = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/';\n    let markDate = new Date(2020, 0, 23);\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    const now = tomorrow.getTime();\n    let cityIndex = 0;\n    let countryIndex = 1;\n    let conIndex = 3;\n    let deathIndex = 4;\n    let recIndex = 5;\n    let lastIndex = 1;\n    const formatChange = new Date(2020, 2, 22).getTime();\n\n    while (markDate.getTime() < now) {\n      let lines = '';\n      const markDateStr = markDate.toISOString();\n      const sourceDate = markDateStr.slice(5, 8) + markDateStr.slice(8, 10) + '-' + markDate.getFullYear();\n      console.log(sourceDate); //console.log(lastIndex);\n      //Workaround for source's formatting inconsistencies\n\n      if (cityIndex == 0 && markDate.getTime() >= formatChange) {\n        cityIndex = 2;\n        countryIndex = 3;\n        conIndex = 7;\n        deathIndex = 8;\n        recIndex = 9;\n      }\n\n      try {\n        const cancelToken = this.cancelSource.token;\n        const response = await axios.get(sourcePrefix + sourceDate + '.csv', {\n          headers: {\n            'Content-Type': 'text/csv'\n          },\n          cancelToken: cancelToken\n        });\n        lines = response.data.split(/\\r?\\n/);\n      } catch (err) {\n        console.log(err);\n        return undefined;\n      }\n\n      markDate.setDate(markDate.getDate() + 1);\n      if (lines == '') continue;\n      console.log(lastIndex);\n      const date = sourceDate.replace('-', '\\/').replace('-', '\\/');\n      let values = undefined;\n      if (lines[lastIndex]) values = lines[lastIndex].split(',');else lastIndex = 1;\n\n      if (values == undefined || city != '' && city != values[cityIndex] || country != '' && country != values[countryIndex]) {\n        for (let i = lastIndex + 1; i < lines.length; i++) {\n          values = lines[i].split(',');\n\n          if (city != '' && city != values[cityIndex] || country != '' && country != values[countryIndex]) {\n            values = undefined;\n            continue;\n          }\n\n          lastIndex = i;\n          break;\n        }\n\n        if (values == undefined) {\n          for (let i = 1; i < lastIndex; i++) {\n            values = lines[i].split(',');\n\n            if (city != '' && city != values[cityIndex] || country != '' && country != values[countryIndex]) {\n              values = undefined;\n              continue;\n            }\n\n            lastIndex = i;\n            break;\n          }\n        }\n      }\n\n      if (values != undefined) {\n        const confirmed = parseInt(values[conIndex]);\n        const hospitalized = parseInt(values[10]);\n        const deaths = parseInt(values[deathIndex]);\n        const recovered = parseInt(values[recIndex]);\n        data[dataN] = {\n          Date: date,\n          Confirmed: confirmed,\n          Hospitalized: hospitalized,\n          Deaths: deaths,\n          Recovered: recovered,\n          NewConfirmed: confirmed - prevConfirmed,\n          NewHospitalized: hospitalized - prevHospitalized,\n          NewDeaths: deaths - prevDeaths,\n          NewRecovered: recovered - prevRecovered\n        };\n        prevConfirmed = confirmed;\n        prevHospitalized = hospitalized;\n        prevDeaths = deaths;\n        prevRecovered = recovered;\n        dataN++;\n      }\n    }\n\n    console.log(data);\n    this.processData(sourceRef, data);\n  } //When foreign country is selected\n  //No streak data or timeline functionality\n  //Only data from two days/files is processed\n\n\n  async callAPIGlobal(city, country, markDate, process = true) {\n    if (city == 'Overall') {\n      city = '';\n    }\n\n    let data = [{}];\n    data[0] = {\n      Date: '',\n      Confirmed: 0,\n      Hospitalized: 0,\n      Deaths: 0,\n      Recovered: 0,\n      RecoveryRate: 0,\n      MortalityRate: 0,\n      NewConfirmed: 0,\n      NewHospitalized: 0,\n      NewDeaths: 0,\n      NewRecovered: 0\n    };\n    const thisData = data[0];\n    const sourceRef = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports';\n    const sourcePrefix = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/';\n    let lines = '';\n\n    while (lines == '') {\n      const markDateStr = markDate.toISOString();\n      const sourceDate = markDateStr.slice(5, 8) + markDateStr.slice(8, 10) + '-' + markDate.getFullYear();\n      markDate.setDate(markDate.getDate() - 1);\n      console.log(sourceDate);\n\n      try {\n        const cancelToken = this.cancelSource.token;\n        const response = await axios.get(sourcePrefix + sourceDate + '.csv', {\n          headers: {\n            'Content-Type': 'text/csv'\n          },\n          cancelToken: cancelToken\n        });\n        lines = response.data.split(/\\r?\\n/);\n        thisData.Date = sourceDate.replace('-', '\\/').replace('-', '\\/');\n      } catch (err) {\n        console.log(err);\n        return undefined;\n      }\n    }\n\n    for (let i = 1; i < lines.length; i++) {\n      if ((lines[i].match(/\"/g) || []).length > 2) continue;\n      const values = lines[i].split(',');\n      if (city != '' && city != values[2] || country != '' && country != values[3]) continue;\n      const confirmed = thisData[\"Confirmed\"] + parseInt(values[7]);\n      const deaths = thisData[\"Deaths\"] + parseInt(values[8]);\n      const recovered = thisData[\"Recovered\"] + parseInt(values[9]);\n      thisData.Confirmed = confirmed;\n      thisData.Hospitalized = thisData[\"Hospitalized\"] + parseInt(values[10]);\n      thisData.Deaths = deaths;\n      thisData.Recovered = recovered;\n      thisData.RecoveryRate = recovered / confirmed * 100;\n      thisData.MortalityRate = deaths / confirmed * 100;\n    }\n\n    if (process) {\n      const prevData = await this.callAPIGlobal(city, country, markDate, false);\n      thisData.NewConfirmed = thisData.Confirmed - prevData.Confirmed;\n      thisData.NewHospitalized = thisData.Hospitalized - prevData.Hospitalized;\n      thisData.NewDeaths = thisData.Deaths - prevData.Deaths;\n      thisData.NewRecovered = thisData.Recovered - prevData.Recovered;\n      console.log(data);\n      this.processData(sourceRef, data, false);\n    }\n\n    return thisData;\n  } //For when Thailand is selected\n  //Provides retrospective data and graph functionalities\n  //Local scoped source, data from over 200 days are stored within only one file\n\n\n  async callAPIThailand() {\n    const source = 'https://covid19.th-stat.com/api/open/timeline';\n    let data = [];\n\n    try {\n      const cancelToken = this.cancelSource.token;\n      const response = await axios.get(source, {\n        cancelToken: cancelToken\n      });\n      console.log(response);\n      data = response.data['Data'];\n    } catch (err) {\n      console.log(err);\n      return undefined;\n    }\n\n    this.processData(source, data);\n  }\n\n  getLastDate(type, data) {\n    for (let i = data.length - 1; i >= 0; i--) {\n      if (data[i][type] != 0) return data[i]['Date'];\n    }\n  }\n\n  getDateDiff(date) {\n    let now = new Date().getTime();\n    return Math.floor((now - new Date(date).getTime()) / 86400000);\n  }\n\n  processData(source, data, hasTimeline = true) {\n    if (data.length <= 0) return;\n    const lastData = data.slice(-1)[0];\n    const dataReformatted = data.slice().map(d => {\n      return Object.assign({}, d, {\n        Date: d.Date.slice(3, 6) + d.Date.slice(0, 2)\n      });\n    });\n    const lastUpdated = lastData['Date'];\n    let lastConfirmedFormatted = 0;\n    let lastDeathFormatted = 0;\n    let noConfirmedStreak = 0;\n    let noDeathStreak = 0;\n\n    if (hasTimeline) {\n      const lastConfirmed = this.getLastDate('NewConfirmed', data);\n      const lastDeath = this.getLastDate('NewDeaths', data);\n      lastConfirmedFormatted = lastConfirmed.slice(3, 6) + lastConfirmed.slice(0, 3) + lastConfirmed.slice(6);\n      lastDeathFormatted = lastDeath.slice(3, 6) + lastDeath.slice(0, 3) + lastDeath.slice(6);\n      noConfirmedStreak = this.getDateDiff(lastConfirmed);\n      noDeathStreak = this.getDateDiff(lastDeath);\n    }\n\n    this.setState({\n      hasTimeline: hasTimeline,\n      dataTimeline: dataReformatted,\n      dataTimeline15: dataReformatted.slice(1).slice(-15),\n      data_text: {\n        source: source,\n        updatedDate: lastUpdated.slice(3, 6) + lastUpdated.slice(0, 3) + lastUpdated.slice(6),\n        confirmed: lastData['Confirmed'],\n        hospitalized: lastData['Hospitalized'],\n        deaths: lastData['Deaths'],\n        recovered: lastData['Recovered'],\n        newConfirmed: lastData['NewConfirmed'],\n        newHospitalized: lastData['NewHospitalized'],\n        newDeaths: lastData['NewDeaths'],\n        newRecovered: lastData['NewRecovered']\n      },\n      data_pie: [{\n        name: 'Hospitalized',\n        value: lastData['Hospitalized']\n      }, {\n        name: 'Deaths',\n        value: lastData['Deaths']\n      }, {\n        name: 'Recovered',\n        value: lastData['Recovered']\n      }],\n      lastConfirmed: lastConfirmedFormatted,\n      lastDeath: lastDeathFormatted,\n      noConfirmedStreak: noConfirmedStreak,\n      noDeathStreak: noDeathStreak,\n      rateRecovery: (100 * lastData['Recovered'] / lastData['Confirmed']).toFixed(2) + '%',\n      rateDeath: (100 * lastData['Deaths'] / lastData['Confirmed']).toFixed(2) + '%'\n    });\n  }\n\n  render() {\n    const cBlue = '#20A0E0';\n    const cOrange = '#F7B860';\n    const cRed = '#E04040';\n    const cGreen = '#80D080';\n    const {\n      classes\n    } = this.props;\n    const {\n      selectCountry,\n      selectCity,\n      fastMode,\n      dataTimeline,\n      dataTimeline15,\n      data_text,\n      data_pie\n    } = this.state;\n    const selectedCountryData = this.state.globalData[selectCountry];\n    let cityChoice = [\"Overall\"];\n\n    if (selectedCountryData != undefined && selectedCountryData.CitiesN != 0) {\n      cityChoice = selectedCountryData.Cities.slice(0);\n      cityChoice.splice(0, 0, \"Overall\");\n    }\n\n    return __jsx(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 4\n      }\n    }, __jsx(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 5\n      }\n    }), __jsx(AppBar, {\n      style: {\n        background: '#BB0A1E'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 5\n      }\n    }, __jsx(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 6\n      }\n    }, __jsx(Typography, {\n      variant: \"h4\",\n      className: classes.title,\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 7\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 8\n      }\n    }, \"Simple COVID-19 Dashboard\")))), __jsx(\"div\", {\n      className: classes.appBarSpacer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 5\n      }\n    }), __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 5\n      }\n    }, __jsx(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 6\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 7\n      }\n    }, __jsx(MuiThemeProvider, {\n      theme: darkTheme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 8\n      }\n    }, __jsx(Typography, {\n      align: \"left\",\n      color: \"textPrimary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 9\n      }\n    }, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 10\n      }\n    }), \"Last updated: \", data_text.updatedDate), __jsx(Typography, {\n      variant: \"subtitle2\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      href: data_text.source,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 10\n      }\n    }, \" \", data_text.source)))), __jsx(Grid, {\n      item: true,\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 7\n      }\n    }, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 8\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 8\n      }\n    }), __jsx(\"button\", {\n      style: {\n        color: fastMode ? 'red' : cBlue\n      },\n      onClick: () => this.setState({\n        fastMode: !fastMode\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 8\n      }\n    }, fastMode ? \"FAST MODE\" : \"FULL MODE\")), __jsx(Grid, {\n      item: true,\n      xs: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 7\n      }\n    }, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 8\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 13\n      }\n    }), __jsx(Dropdown, {\n      options: this.state.countries,\n      value: selectCountry,\n      onChange: select => this.setState({\n        selectCountry: select.value,\n        selectCity: 'Overall'\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 8\n      }\n    })), __jsx(Grid, {\n      item: true,\n      xs: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 7\n      }\n    }, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 8\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 13\n      }\n    }), __jsx(Dropdown, {\n      options: cityChoice,\n      value: selectCity,\n      onChange: select => this.setState({\n        selectCity: select.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 8\n      }\n    }))), __jsx(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 6\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 6,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 8\n      }\n    }, __jsx(Typography, {\n      style: {\n        color: cBlue\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 9\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 46\n      }\n    }, \"Confirmed\")), __jsx(Typography, {\n      style: {\n        color: cBlue\n      },\n      variant: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }\n    }, data_text.confirmed.toLocaleString()), __jsx(Typography, {\n      style: {\n        color: cBlue\n      },\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }\n    }, \"+ \", data_text.newConfirmed.toLocaleString()))), __jsx(Grid, {\n      item: true,\n      xs: 6,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 8\n      }\n    }, __jsx(Typography, {\n      style: {\n        color: cOrange\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 9\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 48\n      }\n    }, \"Hospitalized\")), __jsx(Typography, {\n      style: {\n        color: cOrange\n      },\n      variant: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }\n    }, data_text.hospitalized.toLocaleString()), __jsx(Typography, {\n      style: {\n        color: cOrange\n      },\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }\n    }, data_text.newHospitalized >= 0 ? '+' : '-', \" \", Math.abs(data_text.newHospitalized).toLocaleString()))), __jsx(Grid, {\n      item: true,\n      xs: 6,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 8\n      }\n    }, __jsx(Typography, {\n      style: {\n        color: cRed\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 45\n      }\n    }, \"Deaths\")), __jsx(Typography, {\n      style: {\n        color: cRed\n      },\n      variant: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }\n    }, data_text.deaths.toLocaleString()), __jsx(Typography, {\n      style: {\n        color: cRed\n      },\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 9\n      }\n    }, \"+ \", data_text.newDeaths.toLocaleString()))), __jsx(Grid, {\n      item: true,\n      xs: 6,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 8\n      }\n    }, __jsx(Typography, {\n      style: {\n        color: cGreen\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 47\n      }\n    }, \"Recovered\")), __jsx(Typography, {\n      style: {\n        color: cGreen\n      },\n      variant: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }\n    }, data_text.recovered.toLocaleString()), __jsx(Typography, {\n      style: {\n        color: cGreen\n      },\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }\n    }, \"+ \", data_text.newRecovered.toLocaleString()))), this.state.hasTimeline && __jsx(React.Fragment, null, __jsx(Grid, {\n      item: true,\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 8\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 10\n      }\n    }, \"Last confirmed: \", this.state.lastConfirmed, \" (\", this.state.noConfirmedStreak, \" days ago)\"), __jsx(Typography, {\n      variant: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 10\n      }\n    }, \"Last death: \", this.state.lastDeath, \" (\", this.state.noDeathStreak, \" days ago)\")))), __jsx(Grid, {\n      item: true,\n      xs: this.state.hasTimeline ? 6 : 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 8\n      }\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      style: {\n        color: 'green'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 9\n      }\n    }, \"Recovery Rate: \", this.state.rateRecovery), __jsx(Typography, {\n      variant: \"h6\",\n      style: {\n        color: cRed\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }\n    }, \"Mortality Rate: \", this.state.rateDeath)))), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 6\n      }\n    }), this.state.hasTimeline && __jsx(React.Fragment, null, __jsx(\"button\", {\n      onClick: () => this.setState({\n        showGraph: !this.state.showGraph\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 7\n      }\n    }, \"Show/Hide Graph\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 7\n      }\n    })), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 6\n      }\n    }), this.state.showGraph && //Whether or not to display graphs\n    __jsx(React.Fragment, null, __jsx(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 6\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 8\n      }\n    }, __jsx(ResponsiveContainer, {\n      width: \"100%\",\n      height: 300,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }\n    }, __jsx(BarChart, {\n      width: 500,\n      height: 300,\n      data: dataTimeline15,\n      margin: {\n        top: 5,\n        right: 5,\n        left: 0,\n        bottom: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 10\n      }\n    }, __jsx(CartesianGrid, {\n      strokeDasharray: \"3 3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 11\n      }\n    }), __jsx(XAxis, {\n      dataKey: \"Date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 11\n      }\n    }), __jsx(YAxis, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 11\n      }\n    }), __jsx(Tooltip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 11\n      }\n    }), __jsx(Legend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 11\n      }\n    }), __jsx(Bar, {\n      dataKey: \"NewConfirmed\",\n      fill: cBlue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 11\n      }\n    }), __jsx(Bar, {\n      dataKey: \"NewDeaths\",\n      fill: cRed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 11\n      }\n    }))))), __jsx(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 8\n      }\n    }, __jsx(ResponsiveContainer, {\n      width: \"100%\",\n      height: 300,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 9\n      }\n    }, __jsx(PieChart, {\n      width: 400,\n      height: 400,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 10\n      }\n    }, __jsx(Legend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 11\n      }\n    }), __jsx(Pie, {\n      dataKey: \"value\",\n      isAnimationActive: false,\n      data: data_pie,\n      outerRadius: 100,\n      label: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }\n    }, __jsx(Cell, {\n      fill: cOrange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 12\n      }\n    }), __jsx(Cell, {\n      fill: cRed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 12\n      }\n    }), __jsx(Cell, {\n      fill: cGreen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 12\n      }\n    })), __jsx(Tooltip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 11\n      }\n    }))))), __jsx(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 7\n      }\n    }, __jsx(Paper, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 8\n      }\n    }, __jsx(ResponsiveContainer, {\n      width: \"100%\",\n      height: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 9\n      }\n    }, __jsx(LineChart, {\n      data: dataTimeline,\n      margin: {\n        top: 5,\n        right: 5,\n        left: 0,\n        bottom: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 10\n      }\n    }, __jsx(CartesianGrid, {\n      strokeDasharray: \"3 3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 11\n      }\n    }), __jsx(XAxis, {\n      dataKey: \"Date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 11\n      }\n    }), __jsx(YAxis, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 11\n      }\n    }), __jsx(Tooltip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }\n    }), __jsx(Legend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 11\n      }\n    }), __jsx(Line, {\n      type: \"monotone\",\n      strokeWidth: 2,\n      dataKey: \"Confirmed\",\n      stroke: cBlue,\n      dot: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 11\n      }\n    }), __jsx(Line, {\n      type: \"monotone\",\n      strokeWidth: 2,\n      dataKey: \"Hospitalized\",\n      stroke: cOrange,\n      dot: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 11\n      }\n    }), __jsx(Line, {\n      type: \"monotone\",\n      strokeWidth: 2,\n      dataKey: \"Deaths\",\n      stroke: cRed,\n      dot: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 11\n      }\n    }), __jsx(Line, {\n      type: \"monotone\",\n      strokeWidth: 2,\n      dataKey: \"Recovered\",\n      stroke: cGreen,\n      dot: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 11\n      }\n    })))))))), __jsx(\"footer\", {\n      className: classes.footer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 741,\n        columnNumber: 5\n      }\n    }, __jsx(Paper, {\n      className: classes.paperFoot,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 6\n      }\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 7\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 8\n      }\n    }, \"Simple Covid-19 Dashboard for Tencent Thailand's Internship Project\")), __jsx(Typography, {\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 7\n      }\n    }, \"By Thanjira S. and Woottipat H.\"))));\n  }\n\n}\n\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["C:/Users/Vava/Desktop/covid-19-dashboard/pages/_app.js"],"names":["React","withStyles","createMuiTheme","MuiThemeProvider","AppBar","Toolbar","Typography","CssBaseline","Container","Paper","Grid","Dropdown","axios","ResponsiveContainer","XAxis","YAxis","CartesianGrid","Tooltip","Legend","LineChart","Line","BarChart","Bar","PieChart","Pie","Cell","styles","theme","appBarSpacer","mixins","toolbar","title","flexGrow","container","display","flexDirection","alignItems","justifyContent","paper","padding","spacing","backgroundColor","paperFoot","footer","palette","background","marginTop","root","formControl","margin","minWidth","selectEmpty","darkTheme","type","App","Component","constructor","props","state","selectCountry","selectCity","countries","globalData","fastMode","hasTimeline","dataTimeline","dataTimeline15","data_text","updatedDate","confirmed","hospitalized","deaths","recovered","newConfirmed","newHospitalized","newDeaths","newRecovered","data_pie","lastConfirmed","lastDeath","noConfirmedStreak","noDeathStreak","rateRecovery","rateDeath","showGraph","referenceDate","Date","CancelToken","cancelSource","source","componentDidMount","callAPIGlobalAll","fetchData","refDate","callAPIThailand","callAPIGlobal","getTime","callAPIGlobalTimeline","componentDidUpdate","prevProps","prevState","clearAxiosCalls","cancel","markDate","countriesN","data","Object","sourceRef","sourcePrefix","formatChange","cityIndex","countryIndex","conIndex","deathIndex","recIndex","quoteLimit","lines","markDateStr","toISOString","sourceDate","slice","getFullYear","cancelToken","token","response","get","headers","split","err","console","log","undefined","i","length","match","values","country","city","parseInt","Cities","CitiesN","citiesN","Confirmed","Hospitalized","Deaths","Recovered","RecoveryRate","MortalityRate","setState","dataN","prevConfirmed","prevHospitalized","prevDeaths","prevRecovered","tomorrow","setDate","getDate","now","lastIndex","date","replace","NewConfirmed","NewHospitalized","NewDeaths","NewRecovered","processData","process","thisData","prevData","getLastDate","getDateDiff","Math","floor","lastData","dataReformatted","map","d","assign","lastUpdated","lastConfirmedFormatted","lastDeathFormatted","name","value","toFixed","render","cBlue","cOrange","cRed","cGreen","classes","selectedCountryData","cityChoice","splice","color","select","toLocaleString","abs","top","right","left","bottom"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Dropdown from 'react-dropdown';\r\nimport 'react-dropdown/style.css';\r\nimport axios from 'axios';\r\nimport { ResponsiveContainer, XAxis, YAxis, CartesianGrid, \r\n  Tooltip, Legend, LineChart, Line, BarChart, Bar, PieChart, \r\n  Pie, Cell, } from 'recharts';\r\n  \r\nconst styles = theme => ({\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n\t\tbackgroundColor: \"#FFFEFE\",\r\n  },\r\n\tpaperFoot: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n\t\tbackgroundColor: \"#777070\",\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    marginTop: theme.spacing(2),\r\n  },\r\n\troot: {\r\n    backgroundColor: \"#000000\",\r\n  },\r\n\tformControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\"\r\n  }\r\n});\r\n\r\nclass App extends React.Component {\r\n\t\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectCountry: 'Thailand',\r\n\t\t\tselectCity: 'Overall',\r\n\t\t\tcountries: [],\r\n\t\t\tglobalData: [],\r\n\t\t\tfastMode: true,\r\n\t\t\thasTimeline: true,\r\n\t\t\tdataTimeline: [],\r\n\t\t\tdataTimeline15: [],\r\n\t\t\tdata_text: {\r\n\t\t\t\tupdatedDate: '',\r\n\t\t\t\tconfirmed: '',\r\n\t\t\t\thospitalized: '',\r\n\t\t\t\tdeaths: '',\r\n\t\t\t\trecovered: '',\r\n\t\t\t\tnewConfirmed: '',\r\n\t\t\t\tnewHospitalized: '',\r\n\t\t\t\tnewDeaths: '',\r\n\t\t\t\tnewRecovered: '',\r\n\t\t\t},\r\n\t\t\tdata_pie: [{}],\r\n\t\t\tlastConfirmed: 0,\r\n\t\t\tlastDeath: 0,\r\n\t\t\tnoConfirmedStreak: 0,\r\n\t\t\tnoDeathStreak: 0,\r\n\t\t\trateRecovery: 0,\r\n\t\t\trateDeath: 0,\r\n\t\t\tshowGraph: false,\r\n\t\t};\r\n\t\t\r\n\t\tthis.referenceDate = new Date(2020,7,20);\r\n\t\t\r\n\t\tconst CancelToken = axios.CancelToken;\r\n\t\tthis.cancelSource = CancelToken.source();\r\n  }\r\n  \r\n  componentDidMount() {\r\n\t\tthis.callAPIGlobalAll(this.referenceDate);\r\n\t\tthis.fetchData(this.referenceDate);\r\n  }\r\n\t\r\n\tfetchData(refDate) {\r\n\t\tif (this.state.selectCountry == 'Thailand')\r\n\t\t\tthis.callAPIThailand();\r\n\t\telse if (this.state.fastMode)\r\n\t\t\tthis.callAPIGlobal(this.state.selectCity,this.state.selectCountry,new Date(refDate.getTime()));\r\n\t\telse this.callAPIGlobalTimeline(this.state.selectCity,this.state.selectCountry);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif ((prevState.selectCountry != this.state.selectCountry) ||\r\n     \t\t(prevState.selectCity != this.state.selectCity) ||\r\n\t\t\t\t(prevState.fastMode != this.state.fastMode))\r\n\t\t{\r\n\t\t\tthis.clearAxiosCalls();\r\n\t\t\tthis.fetchData(this.referenceDate);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclearAxiosCalls() {\r\n\t\tthis.cancelSource.cancel('Axios operations cleared');\r\n\t\t\r\n\t\tconst CancelToken = axios.CancelToken;\r\n\t\tthis.cancelSource = CancelToken.source();\r\n\t}\r\n\t\r\n\t//For ranking and map functionalities\r\n\t//Only data from one day/file is processed\r\n\tasync callAPIGlobalAll(markDate) {\r\n\t\t\r\n\t\tmarkDate = new Date(markDate.getTime());\r\n\t\t\r\n\t\tlet countries = [];\r\n\t\tlet countriesN = 0;\r\n\t\t\r\n\t\tlet data = new Object();\r\n\t\t\r\n\t\tconst sourceRef = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports';\r\n\t\tconst sourcePrefix = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/';\r\n\t\tconst formatChange = (new Date(2020,2,22)).getTime();\r\n\t\t\r\n\t\tlet cityIndex = 0;\r\n\t\tlet countryIndex = 1;\r\n\t\tlet conIndex = 3;\r\n\t\tlet deathIndex = 4;\r\n\t\tlet recIndex = 5;\r\n\t\tlet quoteLimit = 0;\r\n\t\t//Workaround for source's formatting inconsistencies\r\n\t\tif (cityIndex == 0 && markDate.getTime() >= formatChange) {\r\n\t\t\tcityIndex = 2;\r\n\t\t\tcountryIndex = 3;\r\n\t\t\tconIndex = 7;\r\n\t\t\tdeathIndex = 8;\r\n\t\t\trecIndex = 9;\r\n\t\t\tquoteLimit = 2;\r\n\t\t}\r\n\t\t\r\n\t\tlet lines = '';\r\n\t\tconst markDateStr = markDate.toISOString();\r\n\t\tconst sourceDate = markDateStr.slice(5,8) + markDateStr.slice(8,10) + '-' + markDate.getFullYear();\r\n\t\t//console.log(sourceDate);\r\n\r\n\t\ttry {\r\n\t\t\tconst cancelToken = this.cancelSource.token;\r\n\t\t\tconst response = await axios.get(sourcePrefix + sourceDate + '.csv', {\r\n\t\t\t\theaders: { 'Content-Type': 'text/csv' },\r\n\t\t\t\tcancelToken: cancelToken,\r\n\t\t\t});\r\n\t\t\tlines = response.data.split(/\\r?\\n/);\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\t\r\n\t\tif (lines != '') {\r\n\t\t\tfor (let i=1; i<lines.length; i++) {\r\n\t\t\t\tif (lines[i] == '' || ((lines[i].match(/\"/g) || []).length > quoteLimit))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\tconst values = lines[i].split(',');\r\n\t\t\t\tconst country = values[countryIndex];\r\n\t\t\t\tconst city = values[cityIndex];\r\n\t\t\t\tlet confirmed = parseInt(values[conIndex]);\r\n\t\t\t\tlet hospitalized = parseInt(values[10]);\r\n\t\t\t\tlet deaths = parseInt(values[deathIndex]);\r\n\t\t\t\tlet recovered = parseInt(values[recIndex]);\r\n\t\t\t\tif (data[country] != undefined) {\r\n\t\t\t\t\tconfirmed += data[country][\"Confirmed\"];\r\n\t\t\t\t\thospitalized += data[country][\"Hospitalized\"];\r\n\t\t\t\t\tdeaths += data[country][\"Deaths\"];\r\n\t\t\t\t\trecovered += data[country][\"Recovered\"];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tdata[country] = new Object();\r\n\t\t\t\t\tdata[country].Cities = [];\r\n\t\t\t\t\tdata[country].CitiesN = 0;\r\n\t\t\t\t\tcountries[countriesN] = country;\r\n\t\t\t\t\tcountriesN++;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst citiesN = data[country].CitiesN;\r\n\t\t\t\tdata[country].Confirmed = confirmed;\r\n\t\t\t\tdata[country].Hospitalized = hospitalized;\r\n\t\t\t\tdata[country].Deaths = deaths;\r\n\t\t\t\tdata[country].Recovered = recovered;\r\n\t\t\t\tdata[country].RecoveryRate = (recovered/confirmed) * 100;\r\n\t\t\t\tdata[country].MortalityRate = (deaths/confirmed) * 100;\r\n\t\t\t\tif (city != '') {\r\n\t\t\t\t\tdata[country].Cities[citiesN] = city;\r\n\t\t\t\t\tdata[country].CitiesN = citiesN + 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//console.log(data);\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tcountries: countries,\r\n\t\t\t\tglobalData: data,\r\n\t\t\t});\r\n\t\t\t//console.log(this.state.countries);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//When foreign country is selected\r\n\t//Provides retrospective data and graph functionalities\r\n\t//Taxing, over 200 days/files must be processed\r\n\t//Somehow sometimes fast, sometimes slow. Cause still unknown.\r\n\tasync callAPIGlobalTimeline(city, country) {\r\n\t\t\r\n\t\tif (city == 'Overall') {\r\n\t\t\tcity = '';\r\n\t\t}\r\n\t\t\r\n\t\tlet data = [{}];\r\n\t\tlet dataN = 0;\r\n\t\t\r\n\t\tlet prevConfirmed = 0;\r\n\t\tlet prevHospitalized = 0;\r\n\t\tlet prevDeaths = 0;\r\n\t\tlet prevRecovered = 0;\r\n\t\t\r\n\t\tconst sourceRef = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports';\r\n\t\tconst sourcePrefix = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/';\r\n\t\tlet markDate = new Date(2020,0,23);\r\n\t\tconst tomorrow = new Date();\r\n\t\ttomorrow.setDate(tomorrow.getDate()+1);\r\n\t\tconst now = tomorrow.getTime();\r\n\t\t\r\n\t\tlet cityIndex = 0;\r\n\t\tlet countryIndex = 1;\r\n\t\tlet conIndex = 3;\r\n\t\tlet deathIndex = 4;\r\n\t\tlet recIndex = 5;\r\n\t\t\r\n\t\tlet lastIndex = 1;\r\n\t\tconst formatChange = (new Date(2020,2,22)).getTime();\r\n\t\t\r\n\t\twhile (markDate.getTime() < now) {\r\n\t\t\tlet lines = '';\r\n\t\t\tconst markDateStr = markDate.toISOString();\r\n\t\t\tconst sourceDate = markDateStr.slice(5,8) + markDateStr.slice(8,10) + '-' + markDate.getFullYear();\r\n\t\t\tconsole.log(sourceDate);\r\n\t\t\t//console.log(lastIndex);\r\n\t\t\t\r\n\t\t\t//Workaround for source's formatting inconsistencies\r\n\t\t\tif (cityIndex == 0 && markDate.getTime() >= formatChange) {\r\n\t\t\t\tcityIndex = 2;\r\n\t\t\t\tcountryIndex = 3;\r\n\t\t\t\tconIndex = 7;\r\n\t\t\t\tdeathIndex = 8;\r\n\t\t\t\trecIndex = 9;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst cancelToken = this.cancelSource.token;\r\n\t\t\t\tconst response = await axios.get(sourcePrefix + sourceDate + '.csv', {\r\n\t\t\t\t\theaders: { 'Content-Type': 'text/csv' },\r\n\t\t\t\t\tcancelToken: cancelToken,\r\n\t\t\t\t});\r\n\t\t\t\tlines = response.data.split(/\\r?\\n/);\r\n\t\t\t} catch(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmarkDate.setDate(markDate.getDate()+1);\r\n\t\t\t\r\n\t\t\tif (lines == '')\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tconsole.log(lastIndex);\r\n\t\t\tconst date = sourceDate.replace('-','\\/').replace('-','\\/');\r\n\t\t\tlet values = undefined;\r\n\t\t\tif (lines[lastIndex])\r\n\t\t\t\tvalues = lines[lastIndex].split(',');\r\n\t\t\telse lastIndex = 1;\r\n\t\t\t\r\n\t\t\tif (values == undefined || (city != '' && city != values[cityIndex]) || (country != '' && country != values[countryIndex]))\r\n\t\t\t{\r\n\t\t\t\tfor (let i=lastIndex+1; i<lines.length; i++) {\r\n\t\t\t\t\tvalues = lines[i].split(',');\r\n\t\t\t\t\tif ((city != '' && city != values[cityIndex]) || (country != '' && country != values[countryIndex])) {\r\n\t\t\t\t\t\tvalues = undefined;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (values == undefined) {\r\n\t\t\t\t\tfor (let i=1; i<lastIndex; i++) {\r\n\t\t\t\t\t\tvalues = lines[i].split(',');\r\n\t\t\t\t\t\tif ((city != '' && city != values[cityIndex]) || (country != '' && country != values[countryIndex])) {\r\n\t\t\t\t\t\t\tvalues = undefined;\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlastIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (values != undefined) {\r\n\t\t\t\tconst confirmed = parseInt(values[conIndex]);\r\n\t\t\t\tconst hospitalized = parseInt(values[10]);\r\n\t\t\t\tconst deaths = parseInt(values[deathIndex]);\r\n\t\t\t\tconst recovered = parseInt(values[recIndex]);\r\n\t\t\t\t\r\n\t\t\t\tdata[dataN] = {\r\n\t\t\t\t\tDate: date,\r\n\t\t\t\t\tConfirmed: confirmed,\r\n\t\t\t\t\tHospitalized: hospitalized,\r\n\t\t\t\t\tDeaths: deaths,\r\n\t\t\t\t\tRecovered: recovered,\r\n\t\t\t\t\tNewConfirmed: confirmed - prevConfirmed,\r\n\t\t\t\t\tNewHospitalized: hospitalized - prevHospitalized,\r\n\t\t\t\t\tNewDeaths: deaths - prevDeaths,\r\n\t\t\t\t\tNewRecovered: recovered - prevRecovered,\r\n\t\t\t\t}\r\n\t\t\t\tprevConfirmed = confirmed;\r\n\t\t\t\tprevHospitalized = hospitalized;\r\n\t\t\t\tprevDeaths = deaths;\r\n\t\t\t\tprevRecovered = recovered;\r\n\t\t\t\tdataN++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(data);\r\n\t\t\r\n\t\tthis.processData(sourceRef, data);\r\n\t}\r\n\t\r\n\t//When foreign country is selected\r\n\t//No streak data or timeline functionality\r\n\t//Only data from two days/files is processed\r\n\tasync callAPIGlobal(city, country, markDate, process = true) {\r\n\t\t\r\n\t\tif (city == 'Overall') {\r\n\t\t\tcity = '';\r\n\t\t}\r\n\t\t\r\n\t\tlet data = [{}];\r\n\t\tdata[0] = {\r\n\t\t\tDate: '',\r\n\t\t\tConfirmed: 0,\r\n\t\t\tHospitalized: 0,\r\n\t\t\tDeaths: 0,\r\n\t\t\tRecovered: 0,\r\n\t\t\tRecoveryRate: 0,\r\n\t\t\tMortalityRate: 0,\r\n\t\t\tNewConfirmed: 0,\r\n\t\t\tNewHospitalized: 0,\r\n\t\t\tNewDeaths: 0,\r\n\t\t\tNewRecovered: 0,\r\n\t\t};\r\n\t\tconst thisData = data[0];\r\n\t\t\r\n\t\tconst sourceRef = 'https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports';\r\n\t\tconst sourcePrefix = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/';\r\n\t\t\r\n\t\tlet lines = '';\r\n\t\twhile (lines == '') {\r\n\t\t\tconst markDateStr = markDate.toISOString();\r\n\t\t\tconst sourceDate = markDateStr.slice(5,8) + markDateStr.slice(8,10) + '-' + markDate.getFullYear();\r\n\t\t\tmarkDate.setDate(markDate.getDate()-1);\r\n\t\t\tconsole.log(sourceDate);\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst cancelToken = this.cancelSource.token;\r\n\t\t\t\tconst response = await axios.get(sourcePrefix + sourceDate + '.csv', {\r\n\t\t\t\t\theaders: { 'Content-Type': 'text/csv' },\r\n\t\t\t\t\tcancelToken: cancelToken,\r\n\t\t\t\t});\r\n\t\t\t\tlines = response.data.split(/\\r?\\n/);\r\n\t\t\t\tthisData.Date = sourceDate.replace('-','\\/').replace('-','\\/');\r\n\t\t\t} catch(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i=1; i<lines.length; i++) {\r\n\t\t\tif ((lines[i].match(/\"/g) || []).length > 2)\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tconst values = lines[i].split(',');\r\n\t\t\tif ((city != '' && city != values[2]) || (country != '' && country != values[3]))\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tconst confirmed = thisData[\"Confirmed\"] + parseInt(values[7]);\r\n\t\t\tconst deaths = thisData[\"Deaths\"] + parseInt(values[8]);\r\n\t\t\tconst recovered = thisData[\"Recovered\"] + parseInt(values[9]);\r\n\t\t\tthisData.Confirmed = confirmed;\r\n\t\t\tthisData.Hospitalized = thisData[\"Hospitalized\"] + parseInt(values[10]);\r\n\t\t\tthisData.Deaths = deaths;\r\n\t\t\tthisData.Recovered = recovered;\r\n\t\t\tthisData.RecoveryRate = (recovered/confirmed) * 100;\r\n\t\t\tthisData.MortalityRate = (deaths/confirmed) * 100;\r\n\t\t}\r\n\t\t\r\n\t\tif (process) {\r\n\t\t\tconst prevData = await this.callAPIGlobal(city, country, markDate, false);\r\n\t\t\tthisData.NewConfirmed = thisData.Confirmed - prevData.Confirmed;\r\n\t\t\tthisData.NewHospitalized = thisData.Hospitalized - prevData.Hospitalized;\r\n\t\t\tthisData.NewDeaths = thisData.Deaths - prevData.Deaths;\r\n\t\t\tthisData.NewRecovered = thisData.Recovered - prevData.Recovered;\r\n\t\t\t\r\n\t\t\tconsole.log(data);\r\n\t\t\tthis.processData(sourceRef, data, false);\r\n\t\t\t\r\n\t\t}\r\n\t\treturn thisData;\r\n\t}\r\n\t\r\n\t//For when Thailand is selected\r\n\t//Provides retrospective data and graph functionalities\r\n\t//Local scoped source, data from over 200 days are stored within only one file\r\n\tasync callAPIThailand() {\r\n\t\t\r\n\t\tconst source = 'https://covid19.th-stat.com/api/open/timeline';\r\n\t\tlet data = [];\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst cancelToken = this.cancelSource.token;\r\n\t\t\tconst response = await axios.get(source, {\r\n\t\t\t\tcancelToken: cancelToken,\r\n\t\t\t});\r\n\t\t\tconsole.log(response);\r\n\t\t\tdata = response.data['Data'];\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\t\r\n\t\tthis.processData(source, data);\r\n\t}\r\n\t\r\n\tgetLastDate(type, data) {\r\n\t\tfor (let i=data.length-1; i>=0; i--) {\r\n\t\t\tif (data[i][type] != 0)\r\n\t\t\t\treturn data[i]['Date'];\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetDateDiff(date) {\r\n\t\tlet now = (new Date()).getTime();\r\n\t\treturn Math.floor((now - (new Date(date)).getTime())/86400000);\r\n\t}\r\n\t\r\n\tprocessData(source, data, hasTimeline = true) {\r\n\t\tif (data.length <= 0)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tconst lastData = data.slice(-1)[0];\r\n\t\tconst dataReformatted = data.slice().map(d => {\r\n\t\t\treturn (\r\n\t\t\t\tObject.assign({},d,{\r\n\t\t\t\t\tDate: d.Date.slice(3,6) + d.Date.slice(0,2)\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\t\t\r\n\t\tconst lastUpdated = lastData['Date'];\r\n\t\tlet lastConfirmedFormatted = 0;\r\n\t\tlet lastDeathFormatted = 0;\r\n\t\tlet noConfirmedStreak = 0;\r\n\t\tlet noDeathStreak = 0;\r\n\r\n\t\tif (hasTimeline) {\r\n\t\t\tconst lastConfirmed = this.getLastDate('NewConfirmed',data);\r\n\t\t\tconst lastDeath = this.getLastDate('NewDeaths',data);\r\n\t\t\tlastConfirmedFormatted = lastConfirmed.slice(3,6) + lastConfirmed.slice(0,3) + lastConfirmed.slice(6);\r\n\t\t\tlastDeathFormatted = lastDeath.slice(3,6) + lastDeath.slice(0,3) + lastDeath.slice(6);\r\n\t\t\tnoConfirmedStreak = this.getDateDiff(lastConfirmed);\r\n\t\t\tnoDeathStreak = this.getDateDiff(lastDeath);\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\thasTimeline: hasTimeline,\r\n\t\t\tdataTimeline: dataReformatted,\r\n\t\t\tdataTimeline15: dataReformatted.slice(1).slice(-15),\r\n\t\t\tdata_text: {\r\n\t\t\t\tsource: source,\r\n\t\t\t\tupdatedDate: lastUpdated.slice(3,6) + lastUpdated.slice(0,3) + lastUpdated.slice(6),\r\n\t\t\t\tconfirmed: lastData['Confirmed'],\r\n\t\t\t\thospitalized: lastData['Hospitalized'],\r\n\t\t\t\tdeaths: lastData['Deaths'],\r\n\t\t\t\trecovered: lastData['Recovered'],\r\n\t\t\t\tnewConfirmed: lastData['NewConfirmed'],\r\n\t\t\t\tnewHospitalized: lastData['NewHospitalized'],\r\n\t\t\t\tnewDeaths: lastData['NewDeaths'],\r\n\t\t\t\tnewRecovered: lastData['NewRecovered'],\r\n\t\t\t},\r\n\t\t\tdata_pie: [\r\n\t\t\t\t{ name: 'Hospitalized', value: lastData['Hospitalized'] },\r\n\t\t\t\t{ name: 'Deaths', value: lastData['Deaths'] },\r\n\t\t\t\t{ name: 'Recovered', value: lastData['Recovered'] },\r\n\t\t\t],\r\n\t\t\tlastConfirmed: lastConfirmedFormatted,\r\n\t\t\tlastDeath: lastDeathFormatted,\r\n\t\t\tnoConfirmedStreak: noConfirmedStreak,\r\n\t\t\tnoDeathStreak: noDeathStreak,\r\n\t\t\trateRecovery: (100*lastData['Recovered']/lastData['Confirmed']).toFixed(2) + '%',\r\n\t\t\trateDeath: (100*lastData['Deaths']/lastData['Confirmed']).toFixed(2) + '%',\r\n\t\t});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst cBlue = '#20A0E0';\r\n\t\tconst cOrange = '#F7B860';\r\n\t\tconst cRed = '#E04040';\r\n\t\tconst cGreen = '#80D080';\r\n\t\t\r\n\t\tconst { classes } = this.props;\r\n\t\tconst { selectCountry, selectCity, fastMode, dataTimeline, dataTimeline15, data_text, data_pie } = this.state;\r\n\t\t\r\n\t\tconst selectedCountryData = this.state.globalData[selectCountry];\r\n\t\tlet cityChoice = [\"Overall\"];\r\n\t\tif (selectedCountryData != undefined && selectedCountryData.CitiesN != 0) {\r\n\t\t\tcityChoice = selectedCountryData.Cities.slice(0);\r\n\t\t\tcityChoice.splice(0,0,\"Overall\");\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<CssBaseline/>\r\n\t\t\t\t<AppBar style={{background:'#BB0A1E'}}>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<Typography variant=\"h4\" className={classes.title} align=\"center\">\r\n\t\t\t\t\t\t\t<b>Simple COVID-19 Dashboard</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div className={classes.appBarSpacer}/>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<MuiThemeProvider theme={darkTheme}>\r\n\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\">\r\n\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\tLast updated: {data_text.updatedDate}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" align=\"left\">\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={data_text.source}\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"> {\r\n\t\t\t\t\t\t\t\t\t\tdata_text.source\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</MuiThemeProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={1}>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<button style={{ color: (fastMode ? 'red' : cBlue) }} onClick={() => this.setState({ fastMode: !fastMode })}>\r\n\t\t\t\t\t\t\t\t{fastMode ? \"FAST MODE\" : \"FULL MODE\"}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t<Dropdown options={this.state.countries} value={selectCountry}\r\n\t\t\t\t\t\t\t\tonChange={(select) => this.setState({ selectCountry: select.value, selectCity: 'Overall' })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t<Dropdown options={cityChoice} value={selectCity}\r\n\t\t\t\t\t\t\t\tonChange={(select) => this.setState({ selectCity:select.value })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={3}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cBlue }}><b>Confirmed</b></Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cBlue }} variant=\"h3\">{data_text.confirmed.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cBlue }} variant=\"h5\">+ {data_text.newConfirmed.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={3}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cOrange }}><b>Hospitalized</b></Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cOrange }} variant=\"h3\">{data_text.hospitalized.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cOrange }} variant=\"h5\">\r\n\t\t\t\t\t\t\t\t\t{(data_text.newHospitalized >= 0) ? '+' : '-'} {Math.abs(data_text.newHospitalized).toLocaleString()}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={3}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cRed }}><b>Deaths</b></Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cRed }} variant=\"h3\">{data_text.deaths.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cRed }} variant=\"h5\">+ {data_text.newDeaths.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={3}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cGreen }}><b>Recovered</b></Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cGreen }} variant=\"h3\">{data_text.recovered.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: cGreen }} variant=\"h5\">+ {data_text.newRecovered.toLocaleString()}</Typography>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{ this.state.hasTimeline && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t\t\tLast confirmed: {this.state.lastConfirmed} ({this.state.noConfirmedStreak} days ago)\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t\t\tLast death: {this.state.lastDeath} ({this.state.noDeathStreak} days ago)\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={ this.state.hasTimeline ? 6 : 12}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography variant='h6' style={{ color: 'green' }}>\r\n\t\t\t\t\t\t\t\t\tRecovery Rate: {this.state.rateRecovery}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='h6' style={{ color: cRed }}>\r\n\t\t\t\t\t\t\t\t\tMortality Rate: {this.state.rateDeath}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t{/*-------------------------------- Graphs --------------------------------*/}\r\n\t\t\t\t\r\n\t\t\t\t\t{/*Button to toggle graph display*/}\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t{ this.state.hasTimeline && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t<button onClick={() => this.setState({ showGraph: !this.state.showGraph })}>\r\n\t\t\t\t\t\t\tShow/Hide Graph\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{ this.state.showGraph && (\t//Whether or not to display graphs\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t{/*Bar, last 14 days*/}\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={300}>\r\n\t\t\t\t\t\t\t\t\t<BarChart\r\n\t\t\t\t\t\t\t\t\t\twidth={500}\r\n\t\t\t\t\t\t\t\t\t\theight={300}\r\n\t\t\t\t\t\t\t\t\t\tdata={dataTimeline15}\r\n\t\t\t\t\t\t\t\t\t\tmargin={{top: 5, right: 5, left: 0, bottom: 5}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t\t\t\t\t\t\t<XAxis dataKey=\"Date\"/>\r\n\t\t\t\t\t\t\t\t\t\t<YAxis/>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t\t<Legend/>\r\n\t\t\t\t\t\t\t\t\t\t<Bar dataKey=\"NewConfirmed\" fill={cBlue}/>\r\n\t\t\t\t\t\t\t\t\t\t<Bar dataKey=\"NewDeaths\" fill={cRed}/>\r\n\t\t\t\t\t\t\t\t\t</BarChart>\r\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*Pie, in total*/}\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={300}>\r\n\t\t\t\t\t\t\t\t\t<PieChart width={400}\theight={400}>\r\n\t\t\t\t\t\t\t\t\t\t<Legend/>\r\n\t\t\t\t\t\t\t\t\t\t<Pie dataKey=\"value\" isAnimationActive={false} data={data_pie} outerRadius={100} label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Cell fill={cOrange} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Cell fill={cRed} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Cell fill={cGreen} />\r\n\t\t\t\t\t\t\t\t\t\t</Pie>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t</PieChart>\r\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*Bar, in total*/}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\r\n\t\t\t\t\t\t\t\t\t<LineChart\r\n\t\t\t\t\t\t\t\t\t\tdata={dataTimeline}\r\n\t\t\t\t\t\t\t\t\t\tmargin={{top: 5, right: 5, left: 0, bottom: 5 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t\t\t\t\t\t\t<XAxis dataKey=\"Date\" />\r\n\t\t\t\t\t\t\t\t\t\t<YAxis/>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t\t<Legend/>\r\n\t\t\t\t\t\t\t\t\t\t<Line type=\"monotone\" strokeWidth={2} dataKey=\"Confirmed\" stroke={cBlue} dot={false} />\r\n\t\t\t\t\t\t\t\t\t\t<Line type=\"monotone\" strokeWidth={2} dataKey=\"Hospitalized\" stroke={cOrange} dot={false} />\r\n\t\t\t\t\t\t\t\t\t\t<Line type=\"monotone\" strokeWidth={2} dataKey=\"Deaths\" stroke={cRed} dot={false} />\r\n\t\t\t\t\t\t\t\t\t\t<Line type=\"monotone\" strokeWidth={2} dataKey=\"Recovered\" stroke={cGreen} dot={false} />\r\n\t\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Container>\r\n\t\t\t\t<footer className={classes.footer}>\r\n\t\t\t\t\t<Paper className={classes.paperFoot}>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b>Simple Covid-19 Dashboard for Tencent Thailand's Internship Project</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography component=\"p\">\r\n\t\t\t\t\t\t\tBy Thanjira S. and Woottipat H.\r\n            </Typography>\r\n          </Paper>\r\n        </footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n"]},"metadata":{},"sourceType":"module"}